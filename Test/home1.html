<!DOCTYPE html>
<html>
<head>
    <link href="mycss1.css" rel="stylesheet" type="text/css">
</head>
<body>
    <center>
        <h1>Hello World!</h1>
    </center>
    
    <h3>Friends</h3>
    
    <div id="joe">My name is Joe.</div>
    <br>
    
    <img src="mona_lisa.jpg" alt="Mona Lisa" id="monalisa">
    <br>
    
    <div>
        <input type="checkbox" id="imgview">
        <label for="imgview">Show/Hide image</label>
    </div>

    <br>
    <br>

    <div id="sally">My best friend is Sally.</div>
    <br>
    
    <div id="bob">My other friend is Bob.</div>
    <br>

</body>

<script>
    document.getElementById('imgview').checked = true;
    document.getElementById('imgview').onclick = function() {
        if (document.getElementById('imgview').checked == true) {
            document.getElementById('monalisa').style.visibility = 'visible';
        } else {
            document.getElementById('monalisa').style.visibility = 'hidden';
        }
    }

    var image = document.getElementById("monalisa");
    image.addEventListener("load", function () {
        desaturateImage(image);
    });

    function desaturateImage(image) {
        var statustxt = document.createElement('h3');
        image.parentNode.insertBefore(statustxt, image);
        statustxt.textContent = "Image Loaded";
    }

    function desaturateImage(image) {
        var canvas = document.createElement('canvas');
        image.parentNode.insertBefore(canvas, image);
        canvas.width = image.width;
        canvas.height = image.height;
        var ctx = canvas.getContext("2d");
        ctx.drawImage(image, 0, 0);

        var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);

        for (var i = 0; i < imgData.data.length; i += 4) {
            var grey = 0.2126 * imgData.data[i] + 0.7152 * imgData.data[i + 1] + 0.0722 * imgData.data[i + 2];
            imgData.data[i] = grey;
            imgData.data[i + 1] = grey;
            imgData.data[i + 2] = grey;
        }

        ctx.putImageData(imgData, 0, 0);
    }
</script>
</html>